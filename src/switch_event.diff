diff --git a/src/switch_event.c b/src/switch_event.c
index f049baf72b..c37fbb9a27 100644
--- a/src/switch_event.c
+++ b/src/switch_event.c
@@ -2557,7 +2557,7 @@ SWITCH_DECLARE(char *) switch_event_build_param_string(switch_event_t *event, co
 
 				}
 
-				new_len = (strlen((char *) var) * 3) + 1;
+				new_len = (strlen((char *) val) * 3) + 1;
 				if (encode_len < new_len) {
 					char *tmp;
 
